---
const title = 'Muhammad Afifudin';
const description =
  'Muhammad Afifudin, a software engineer, designer, content creator, ex-statistician.';

const assetsUrl = 'https://afif-assets.pages.dev/afiiif_github_io/v1';

const products = [
  {
    href: 'https://pokemon-awesome.vercel.app/',
    name: 'Pok√©mon Awesome',
    desc: 'Rank #2 on Google when you search for "compare pokemons".',
    dateInfo: 'July 2024',
    preview: { src: 'pokemon-awesome.webp', width: 600, height: 379 },
    previewPlaceholder: { src: 'pokemon-awesome-placeholder.webp', width: 500, height: 316 },
  },
  {
    href: 'statistiku',
    name: 'Statistiku',
    desc: 'An innovative web-based statistics tool, showcasing my proficiency in math, statistics, & software-engineering.',
    dateInfo: 'March 2019',
    preview: { src: 'statistiku.webp', width: 600, height: 379 },
    previewPlaceholder: { src: 'statistiku-placeholder.webp', width: 500, height: 316 },
  },
  {
    href: 'kode-wilayah-dan-pos',
    name: 'KodeWilayah',
    desc: 'The best website to search Indonesian region code & postal code.',
    dateInfo: 'June 2024',
    preview: { src: 'kode-wilayah-dan-pos.webp', width: 600, height: 379 },
  },
  {
    href: 'https://www.youtube.com/@afifu',
    name: 'YouTube.com/@afifu',
    desc: 'Well-animated educational contents on software engineering.',
    dateInfo: '2021-2023',
    preview: { src: 'afif-youtube-channel.webp', width: 800, height: 518 },
  },
  {
    href: 'https://marketplace.visualstudio.com/items?itemName=afifu.vscode-js-ts-react-nextjs-snippets',
    name: 'JS/TS React/Next.js Snippets',
    desc: 'Productivity VSCode extension (>5K installs).',
    dateInfo: 'May 2023',
    preview: { src: 'vscode-js-ts-snippets.gif', width: 680, height: 306 },
  },
  {
    href: 'https://www.youtube.com/watch?v=q7Lbn_JtLdw',
    name: 'BagiTugas',
    desc: "This tool significantly speeds up my coworker's work.",
    dateInfo: 'July 2020',
    preview: { src: 'bagitugas.png', width: 850, height: 403 },
  },
  {
    href: 'spk',
    name: 'National Standard Industrial Classification',
    desc: 'Industrial classification code & definition used by BPS (national statistics office).',
    dateInfo: 'June 2020',
    preview: { src: 'spk.webp', width: 600, height: 379 },
  },
  {
    href: 'kode-wilayah',
    name: 'KodeWilayah (BPS)',
    desc: "Indonesia's region code from BPS (national statistics office).",
    dateInfo: 'May 2020',
    preview: { src: 'kode-wilayah-bps.webp', width: 600, height: 379 },
  },
];
---

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <link rel="icon" type="image/svg+xml" href="/favicon.svg" />
    <meta name="viewport" content="width=device-width" />
    <meta name="generator" content={Astro.generator} />
    <title>{title}</title>
    <meta property="og:title" content={title} />
    <meta name="twitter:title" content={title} />
    <meta name="description" content={description} />
    <meta property="og:description" content={description} />
    <meta name="twitter:description" content={description} />
    <link rel="canonical" href={Astro.site} />

    <link rel="preload" as="image" href={`/img/${products[0].previewPlaceholder!.src}`} />
    <link rel="preload" as="image" href={`/img/${products[1].previewPlaceholder!.src}`} />
  </head>

  <body class="bg-gray-50">
    <main class="px-3.5 py-12 md:px-8 md:pt-14 md:pb-24 mx-auto max-w-2xl transition-[padding]">
      <h1 class="font-semibold text-3xl">Muhammad Afifudin üáÆüá©</h1>
      <p class="pt-0.5">Software engineer & designer in 1 person.</p>

      <div class="pt-14 flex gap-3">
        <h2 class="tracking-wider text-emerald-600">FEATURED PERSONAL PROJECTS</h2>
        <div class="flex-1 border-t mt-3 border-dashed border-emerald-600"></div>
      </div>
      {
        products.map((product, i) => {
          return (
            <section class="pt-9">
              <a href={product.href} target="_blank">
                <h3 class="inline font-semibold text-xl">{product.name}</h3>
                <svg
                  class="inline relative -top-0.5"
                  fill="none"
                  width="20"
                  height="20"
                  shape-rendering="geometricPrecision"
                  stroke="currentColor"
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="2"
                  viewBox="0 0 24 24"
                >
                  <path d="M7 17L17 7" />
                  <path d="M7 7h10v10" />
                </svg>
              </a>
              <div class="text-sm pb-2.5 text-gray-500">{product.dateInfo}</div>
              <div class="rounded-t-lg overflow-hidden border relative">
                {product.previewPlaceholder ? (
                  <>
                    <img
                      id={`img-${i}`}
                      src={`${assetsUrl}/${product.previewPlaceholder.src}`}
                      width={product.previewPlaceholder.width}
                      height={product.previewPlaceholder.height}
                      class="w-full"
                      alt={`${product.name} preview`}
                    />
                    <div class="absolute bottom-4 right-4 bg-white/90 rounded-full px-3.5 py-1.5 text-sm">
                      ‚è≥ &nbsp;Loading animated preview...
                    </div>
                  </>
                ) : (
                  <img
                    src={`${assetsUrl}/${product.preview.src}`}
                    width={product.preview.width}
                    height={product.preview.height}
                    class="w-full"
                    alt={`${product.name} preview`}
                    loading="lazy"
                  />
                )}
              </div>
              <p class="text-sm py-1.5 px-2.5 bg-gray-100 text-gray-600 border rounded-b-lg">
                {product.desc}
              </p>
            </section>
          );
        })
      }

      <div class="pt-16 flex gap-3">
        <h2 class="tracking-wider text-emerald-600">CONTACTS / LINKS</h2>
        <div class="flex-1 border-t mt-3 border-dashed border-emerald-600"></div>
      </div>
      <ul class="section-links">
        <li>
          <a href="mailto:afiiifudin@gmail.com"><span>afiiifudin@gmail.com</span> &nbsp;üì¨</a>
        </li>
        <li>
          <a href="https://www.linkedin.com/in/m-afifudin/"
            ><span>linkedin.com</span> / m-afifudin</a
          >
        </li>
        <li>
          <a href="https://github.com/afiiif"><span>github.com</span> / afiiif</a>
        </li>
        <li>
          <a href="https://x.com/digimushrm"><span>x.com</span> / digimushrm</a>
        </li>
        <li>
          <a href="https://pinterest.com/afif_u/"><span>pinterest.com</span> / afif_u</a>
        </li>
      </ul>
      <div class="pb-8"></div>
    </main>
  </body>
</html>

<style is:global>
  a {
    @apply font-medium hover:underline decoration-dashed;
  }
  .section-links {
    @apply pt-4 relative;
  }
  .section-links a {
    @apply font-normal hover:underline decoration-dashed inline-block py-1 pl-9 text-gray-600;
  }
  .section-links a::before {
    content: '‚ñ∂';
    @apply absolute left-2.5;
  }
  .section-links a span {
    @apply font-semibold text-black;
  }
</style>

<script>
  const assetsUrl = 'https://afif-assets.pages.dev/afiiif_github_io/v1';

  setTimeout(() => {
    fetch(`${assetsUrl}/pokemon-awesome.webp`).then((res) => {
      res.blob().then((imgBlob) => {
        const $img = document.getElementById('img-0') as HTMLImageElement;
        $img.src = URL.createObjectURL(imgBlob);
        $img.nextElementSibling!.remove();
      });
    });
  }, 500);

  setTimeout(() => {
    fetch(`${assetsUrl}/statistiku.webp`).then((res) => {
      res.blob().then((imgBlob) => {
        const $img = document.getElementById('img-1') as HTMLImageElement;
        $img.src = URL.createObjectURL(imgBlob);
        $img.nextElementSibling!.remove();
      });
    });
  }, 1300);
</script>
