---
const title = 'Muhammad Afifudin';
const description =
  'Muhammad Afifudin, a software engineer, designer, content creator, ex-statistician.';

const assetsUrl =
  process.env.NODE_ENV === 'development'
    ? 'img'
    : 'https://afif-assets.pages.dev/afiiif_github_io/v1';

const products = [
  {
    href: 'https://pokemon-awesome.vercel.app/',
    name: 'Pok√©mon Awesome',
    desc: 'Rank #2 on Google when you search for "compare pokemons".',
    dateInfo: 'July 2024',
    preview: { src: 'pokemon-awesome.webp', width: 600, height: 379 },
    previewPlaceholder: { src: 'pokemon-awesome-placeholder.webp', width: 500, height: 316 },
  },
  {
    href: 'statistiku',
    name: 'Statistiku',
    desc: 'An innovative web-based statistics tool, showcasing my proficiency in math, statistics, & programming algorithm.',
    dateInfo: 'March 2019',
    preview: { src: 'statistiku.webp', width: 600, height: 379 },
    previewPlaceholder: { src: 'statistiku-placeholder.webp', width: 500, height: 316 },
  },
  {
    href: 'https://www.youtube.com/@afifu',
    name: 'YouTube.com/@afifu',
    desc: 'Well-animated educational contents on software engineering.',
    dateInfo: '2021-2023',
    preview: { src: 'afif-youtube-channel.webp', width: 800, height: 518 },
  },
  {
    href: 'https://marketplace.visualstudio.com/items?itemName=afifu.vscode-js-ts-react-nextjs-snippets',
    name: 'JS/TS React/Next.js Snippets',
    desc: 'Productivity VSCode extension (>5K installs).',
    dateInfo: 'May 2023',
    preview: { src: 'vscode-js-ts-snippets.webp', width: 680, height: 306 },
  },
  {
    href: 'kode-wilayah-dan-pos',
    name: 'KodeWilayah',
    desc: 'The best website to search Indonesian region code & postal code.',
    dateInfo: 'June 2024',
    preview: { src: 'kode-wilayah-dan-pos.webp', width: 600, height: 379 },
  },
  {
    href: 'https://www.youtube.com/watch?v=q7Lbn_JtLdw',
    name: 'BagiTugas',
    desc: "This tool significantly speeds up my coworker's work.",
    dateInfo: 'July 2020',
    preview: { src: 'bagitugas.png', width: 850, height: 403 },
  },
  {
    href: 'spk',
    name: 'National Standard Industrial Classification',
    desc: 'Industrial classification code & definition used by BPS (national statistics office).',
    dateInfo: 'June 2020',
    preview: { src: 'spk.webp', width: 600, height: 379 },
  },
];
---

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <link rel="icon" type="image/svg+xml" href="/favicon.svg" />
    <meta name="viewport" content="width=device-width" />
    <meta name="generator" content={Astro.generator} />
    <title>{title}</title>
    <meta property="og:title" content={title} />
    <meta name="twitter:title" content={title} />
    <meta name="description" content={description} />
    <meta property="og:description" content={description} />
    <meta name="twitter:description" content={description} />
    <link rel="canonical" href={Astro.site} />
    <meta name="theme-color" content="#111111" />

    <link
      rel="preload"
      as="image"
      type="image/webp"
      href={`/img/${products[0].previewPlaceholder!.src}`}
    />
    <link
      rel="preload"
      as="image"
      type="image/webp"
      href={`/img/${products[1].previewPlaceholder!.src}`}
    />
  </head>

  <body>
    <main
      class="px-5 py-14 sm:px-7 md:px-8 md:pt-16 md:pb-24 mx-auto max-w-2xl transition-[padding]"
    >
      <h1 class="font-bold text-2xl sm:text-3xl">Muhammad Afifudin üáÆüá©</h1>
      <p class="pt-0.5 text-[#aaa]">Software engineer & designer in 1 person.</p>

      <h2 class="mt-20 tracking-wider text-sm">FEATURED PERSONAL PROJECTS</h2>
      {
        products.map((product, i) => {
          return (
            <section class="pt-10 pb-1">
              <div class="sm:flex sm:items-center sm:justify-between">
                <a
                  href={product.href}
                  target="_blank"
                  class="[&:hover_h3]:underline [&:hover_h3]:decoration-dashed [&:hover_h3]:decoration-blue-400 inline-block -my-1 py-1"
                >
                  <h3 class="inline font-semibold text-lg">{product.name}</h3>
                  <svg
                    class="inline w-4 h-4 relative -top-0.5 text-blue-400"
                    viewBox="0 0 24 24"
                    fill="currentColor"
                    aria-hidden="true"
                    data-slot="icon"
                  >
                    <path
                      fill-rule="evenodd"
                      d="M15.75 2.25H21a.75.75 0 0 1 .75.75v5.25a.75.75 0 0 1-1.5 0V4.81L8.03 17.03a.75.75 0 0 1-1.06-1.06L19.19 3.75h-3.44a.75.75 0 0 1 0-1.5Zm-10.5 4.5a1.5 1.5 0 0 0-1.5 1.5v10.5a1.5 1.5 0 0 0 1.5 1.5h10.5a1.5 1.5 0 0 0 1.5-1.5V10.5a.75.75 0 0 1 1.5 0v8.25a3 3 0 0 1-3 3H5.25a3 3 0 0 1-3-3V8.25a3 3 0 0 1 3-3h8.25a.75.75 0 0 1 0 1.5H5.25Z"
                      clip-rule="evenodd"
                    />
                  </svg>
                </a>
                <div class="text-sm bg-gray-700 text-white inline-block rounded-full px-2 py-0.5">
                  {product.dateInfo}
                </div>
              </div>
              <p class="text-sm pt-1.5 pb-4 text-[#aaa]">{product.desc}</p>
              <div class="rounded-lg overflow-hidden relative border border-gray-700">
                {product.previewPlaceholder ? (
                  <>
                    <img
                      id={`img-${i}`}
                      src={`${assetsUrl}/${product.previewPlaceholder.src}`}
                      width={product.previewPlaceholder.width}
                      height={product.previewPlaceholder.height}
                      class="w-full"
                      alt={`${product.name} preview`}
                    />
                    <div class="absolute bottom-4 right-4 bg-white/90 rounded-full px-3.5 py-1.5 text-sm appear text-gray-800">
                      ‚è≥ &nbsp;Loading animated preview...
                    </div>
                  </>
                ) : (
                  <img
                    src={`${assetsUrl}/${product.preview.src}`}
                    width={product.preview.width}
                    height={product.preview.height}
                    class="w-full"
                    alt={`${product.name} preview`}
                    loading="lazy"
                  />
                )}
              </div>
            </section>
          );
        })
      }

      <h2 class="mt-28 tracking-wider text-sm">TOOLS</h2>
      <ul
        class:list={[
          'pt-8 flex flex-wrap gap-2 items-center',
          '[&_li:not(:last-child)]:border [&_li:not(:last-child)]:border-gray-700 [&_li:not(:last-child)]:px-2 [&_li:not(:last-child)]:rounded',
        ]}
      >
        <li>JavaScript</li>
        <li>TypeScript</li>
        <li>Next JS</li>
        <li>Astro JS</li>
        <li>Vanilla JS</li>
        <li>jQuery</li>
        <li>HTML</li>
        <li>CSS</li>
        <li>Tailwind</li>
        <li>Ant Design</li>
        <li>Radix UI</li>
        <li>TanStack-Query</li>
        <li class="text-[#aaa]">and many more...</li>
      </ul>

      <h2 class="mt-24 tracking-wider text-sm">CONTACTS / LINKS</h2>
      <ul
        class:list={[
          'pt-7',
          '[&_a]:inline-block [&_a]:py-1',
          '[&_a:hover]:underline [&_a:hover]:decoration-dashed [&_a:hover]:decoration-blue-400',
          '[&_span]:text-[#aaa] [&_span]:ml-[3px]',
        ]}
      >
        <li>
          <a href="mailto:afiiifudin@gmail.com">afiiifudin@gmail.com &nbsp;üì¨</a>
        </li>
        <li>
          <a href="https://www.linkedin.com/in/m-afifudin/">linkedin.com<span>/m-afifudin</span></a>
        </li>
        <li>
          <a href="https://github.com/afiiif">github.com<span>/afiiif</span></a>
        </li>
        <li>
          <a href="https://dev.to/afiiif">dev.to<span>/afiiif</span></a>
        </li>
        <li>
          <a href="https://x.com/digimushrm">x.com<span>/digimushrm</span></a>
        </li>
        <li>
          <a href="https://pinterest.com/afif_u/">pinterest.com<span>/afif_u</span></a>
        </li>
      </ul>

      <div class="pb-12"></div>
    </main>
  </body>
</html>

<style is:global>
  body {
    color: rgb(226, 232, 240);
    background: #111;
  }
  a {
    @apply decoration-dashed;
  }
  h2 {
    @apply relative;
    &::before {
      content: '';
      @apply absolute bg-blue-400 w-2.5 -top-1.5 -bottom-1.5 -left-6 sm:-left-7;
    }
  }

  .appear {
    opacity: 0;
    animation: appear 0.5s linear 0.7s forwards;
  }
  @keyframes appear {
    from {
      opacity: 0;
    }
    to {
      opacity: 100%;
    }
  }
</style>

<script>
  const assetsUrl =
    process.env.NODE_ENV === 'development'
      ? 'img'
      : 'https://afif-assets.pages.dev/afiiif_github_io/v1';

  setTimeout(() => {
    fetch(`${assetsUrl}/pokemon-awesome.webp`).then((res) => {
      res.blob().then((imgBlob) => {
        const $img = document.getElementById('img-0') as HTMLImageElement;
        $img.src = URL.createObjectURL(imgBlob);
        $img.nextElementSibling!.remove();
      });
    });
  }, 500);

  setTimeout(() => {
    fetch(`${assetsUrl}/statistiku.webp`).then((res) => {
      res.blob().then((imgBlob) => {
        const $img = document.getElementById('img-1') as HTMLImageElement;
        $img.src = URL.createObjectURL(imgBlob);
        $img.nextElementSibling!.remove();
      });
    });
  }, 1300);
</script>
